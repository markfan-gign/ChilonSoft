@model ChilonSoft.Models.SiteInfo
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Admin.cshtml";
}
<link href="/Content/Uploadify/uploadify.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="@Url.Content("~/Content/Scripts/swfobject.js")" ></script>
<script type="text/javascript" src="@Url.Content("~/Content/Uploadify/jquery.uploadify.v2.1.4.min.js")" ></script>
<script type="text/javascript" src="@Url.Content("~/Content/Kindeditor/kindeditor-min.js")" ></script>
<script type="text/javascript" src="@Url.Content("~/Content/Kindeditor/lang/zh_CN.js")" ></script>
<div id="box-tabs" class="box ui-tabs ui-widget ui-widget-content ui-corner-all">
    <!-- box / title -->
    <div class="title">
        <h5>
            网站管理</h5>
        <ul class="links ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
            <li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#box-messages">
                公司信息</a></li>
            <li class="ui-state-default ui-corner-top"><a href="#box-other">在线客服</a></li>
            <li class="ui-state-default ui-corner-top"><a href="#box-weibo">微博社会化</a></li>
            <li class="ui-state-default ui-corner-top"><a href="#box-dialogs">网站信息</a></li>
            <li class="ui-state-default ui-corner-top"><a href="#box-base">基本设置</a></li>
            
        </ul>
    </div>
    <!-- box / title -->
    <div id="box-messages" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide">
        <h3>
            公司信息</h3>
        @using (Html.BeginForm("companyinfo", "site", FormMethod.Post, new { id = "companyinfoform" }))
        {
            <fieldset>
                <!-- Set class to "column-left" or "column-right" on fieldsets to divide the form into columns -->
                <p>
                    <b>公司名称：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.CompanyName, new
               {
                   @class = "small",
                   @datatype = "s6-18",
                   @nullmsg = "请输入公司名称！",
                   @errormsg = "公司名称至少6个字符,最多18个字符！"
               })
                    </div>
                </p>
                <p>
                    <b>公司介绍</b>
                    @Html.TextAreaFor(d => d.CompanyContent, new { @name = "CompanyContent", @style = "width: 680px; height: 300px;" })
                </p>
                <p>
                    <b>联系方式</b>
                    @Html.TextAreaFor(d => d.CompanyContact, new { @name = "CompanyContact", @style = "width: 680px; height: 300px;" })
                </p>
                <p>
                    <div class="buttons">
                        <input type="submit" name="submit" value="保 存" class="ui-button ui-widget ui-state-default ui-corner-all"
                            role="button" aria-disabled="false" />
                    </div>
                </p>
            </fieldset>
        }
    </div>
    <div id="box-other" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide">
        <h3>
            在线客服</h3>
        @using (Html.BeginForm("online", "site", FormMethod.Post, new { id = "onlineform" }))
        {
            <fieldset>
                <!-- Set class to "column-left" or "column-right" on fieldsets to divide the form into columns -->
                <p>
                    <b>QQ1：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.QQ1, new { @class = "small", @datatype = "n5-12", @nullmsg = "请输入QQ1！", @errormsg = "QQ1号码不正确!" })
                    </div>
                </p>
                <p>
                    <b>QQ2：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.QQ2, new { @class = "small", @datatype = "n5-12", @nullmsg = "请输入QQ2！", @errormsg = "QQ2号码不正确!" })
                    </div>
                </p>
                <p>
                    <b>QQ3：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.QQ3, new { @class = "small", @datatype = "n5-12", @nullmsg = "请输入QQ3！", @errormsg = "QQ3号码不正确!" })
                    </div>
                </p>
                <p>
                    <div class="buttons">
                        <input type="submit" name="submit" value="保 存" class="ui-button ui-widget ui-state-default ui-corner-all"
                            role="button" aria-disabled="false" />
                    </div>
                </p>
            </fieldset>
        }
    </div>
    <div id="box-dialogs" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
        <h3>
            网站信息</h3>
        @using (Html.BeginForm("siteinfo", "site", FormMethod.Post, new { id = "siteinfoform" }))
        {
            <fieldset>
                <!-- Set class to "column-left" or "column-right" on fieldsets to divide the form into columns -->
                <p>
                    <b>网站名称：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.SiteName, new
                            {
                                @class
                                = "small"
                            })
                    </div>
                </p>



                <p>
                    <b>网站域名：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.SiteURL, new
                            {
                                @class
                                = "small"
                            })
                    </div>
                </p>
                <p>
                    <b>ICP备案号：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.ICP, new
                              {
                                  @class
                                  = "small"
                              })
                    </div>
                </p>
                <p>
                    <div class="buttons">
                        <input type="submit" name="submit" value="保 存" class="ui-button ui-widget ui-state-default ui-corner-all"
                            role="button" aria-disabled="false" />
                    </div>
                </p>
            </fieldset>
        }
    </div>
    <div id="box-base" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
        <h3>
            基本设置</h3>
        @using (Html.BeginForm("basic", "site", FormMethod.Post))
        {      
            <fieldset>
                <!-- Set class to "column-left" or "column-right" on fieldsets to divide the form into columns -->
                <p>
                    <b>产品小图规格：</b>
                    <div class="input">@Html.TextBoxFor(d => d.ProductSmallPicStandard, new { @class = "small" })</div>
                    <br />
                    <span class="blue">产品小图大小，宽度*高度，如：250*125</span><br />
                </p>
                <p>
                    <b>项目小图规格：</b>
                    <div class="input">@Html.TextBoxFor(d => d.CaseSmallPicStandard, new { @class = "small" })</div>
                    <br />
                    <span class="blue">案例小图大小，宽度*高度，如：250*125</span><br />
                </p>
                <p>
                    <b>图片小图规格：</b>
                    <div class="input">@Html.TextBoxFor(d => d.PhotoSmallStandard, new { @class = "small" })</div>
                    <br />
                    <span class="blue">相册小图大小，宽度*高度，如：250*125</span><br />
                </p>
                <p>
                    <b>友情链接规格：</b>
                    <div class="input">@Html.TextBoxFor(d => d.LinkLogoStandard, new { @class = "small" })</div>
                    <br />
                    <span class="blue">友情链接图片大小，宽度*高度，如：250*125</span>
                </p>
                <p>
                    <b>水印文字大小：</b>
                    <div class="input">@Html.TextBoxFor(d => d.WaterFontSize, new { @class = "small" })</div>
                    <br />
                    <span class="blue">用于显示在图片上的水印文字大小，填写数字即可</span><br />
                </p>
                <p>
                    <b>水印文字内容：</b>
                    <div class="input">@Html.TextBoxFor(d => d.WaterText, new { @class = "small" })</div>
                    <br />
                    <span class="blue">用于显示在图片上的水印文字颜色</span>
                </p>
                <p>
                    <b>水印图片地址：</b>
                    <input type="text" id="uploadpic" name="uploadpic" />
                    <a href="javascript:$('#uploadpic').uploadifyUpload()">上传图片</a><br />
                    <input type="text" id="PicURL" name="PicURL" style="display: none" />
                    @if (!String.IsNullOrEmpty(Model.WaterPicURL))
                    {                    
                        <img src="@Html.Encode(Model.WaterPicURL)" id="WaterPicURL" />
                    }
                    else
                    {
                        <img src="/upfiles/images/nopic.gif" id="WaterPicURL" />
                    }
                </p>
                <p>
                    <div class="buttons">
                        <input type="submit" name="submit" value="保 存" class="ui-button ui-widget ui-state-default ui-corner-all"
                            role="button" aria-disabled="false" />
                    </div>
                    <div class="hide" style="width: 120px">
                        <div id="msg_basic">
                        </div>
                    </div>
                </p>
            </fieldset>
        }
    </div>

     <div id="box-weibo" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
     <h3>
            微博社会化</h3>
        @using (Html.BeginForm("weibo", "site", FormMethod.Post, new { id = "weiboform" }))
        {
            <fieldset>
                <!-- Set class to "column-left" or "column-right" on fieldsets to divide the form into columns -->
                <p>
                    <b>腾讯微博：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Qqmb, new { @class = "small", @datatype = "s", @nullmsg = "请输入腾讯微博！"})
                    </div>
                </p>
                <p>
                    <b>新浪微博：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Sinaminiblog, new { @class = "small", @datatype = "s", @nullmsg = "请输入新浪微博！" })
                    </div>
                </p>
                <p>
                    <b>QQ空间：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Qzone, new { @class = "small", @datatype = "s", @nullmsg = "请输入QQ空间！" })
                    </div>
                </p>
                <p>
                    <b>人人网：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Renren, new { @class = "small", @datatype = "s", @nullmsg = "请输入人人网！" })
                    </div>
                </p>
                <p>
                    <b>豆瓣：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Douban, new { @class = "small", @datatype = "s", @nullmsg = "请输入豆瓣！" })
                    </div>
                </p>
                <p>
                    <b>复制网站地址：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Clipboard, new { @class = "small", @datatype = "s", @nullmsg = "请输入复制网站地址！" })
                    </div>
                </p>
                <p>
                    <b>收藏网站地址：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Favorite, new { @class = "small", @datatype = "s", @nullmsg = "请输入收藏网站！" })
                    </div>
                </p>
                <p>
                    <b>联系我们email：</b>
                    <div class="input">
                        @Html.TextBoxFor(d => d.Email, new { @class = "small", @datatype = "s", @nullmsg = "请输入联系我们email！" })
                    </div>
                </p>
                <p>
                    <div class="buttons">
                        <input type="submit" name="submit" value="保 存" class="ui-button ui-widget ui-state-default ui-corner-all"
                            role="button" aria-disabled="false" />
                    </div>
                </p>

            </fieldset>
        }
     </div>

</div>
<script language="javascript" type="text/javascript">
    $(document).ready(function () {
        //A
        $("#h-menu-siteInfo").addClass("selected");
        $("#menu-siteInfo").removeClass("closed");

        //D
        $("#siteinfoset").addClass("current");
        $("#companyinfoform").Validform();
        $("#onlineform").Validform();
        $("#siteinfoform").Validform();
    });
</script>
<script>
    KindEditor.ready(function (K) {
        K.create('textarea[name="CompanyContent"]', {
            afterChange: function () {
                K('.word_count').html(this.count());
            }
        });
        K.create('textarea[name="CompanyContact"]', {
            afterChange: function () {
                K('.word_count2').html(this.count());
            }
        });
    });
</script>
<!-- scripts (Validform) -->
<script src="@Url.Content("~/Content/admin/scripts/Validform_v5.1.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        //上传
        $('#uploadpic').uploadify({
            'uploader': '/Content/Uploadify/uploadify.swf',
            'script': '@Url.Action("UploadImage", "site")',
            'cancelImg': '/Content/Uploadify/cancel.png',
            'fileExt': '*.jpg;*.gif;*.png',
            'fileDesc': '支持的格式(.JPG, .GIF, .PNG)',
            'buttonImg': '/Content/Uploadify/browse_sc2.jpg',
            'sizeLimit': 1024 * 1024 * 4, //4M
            'auto': false,
            'multi': false,
            'method': 'post',
            'onComplete': function (event, queueID, fileObj, response, data) {
                $('#PicURL').val(response);
                $('#WaterPicURL').attr("src", response.split("|")[0]);
            }
        });
    });          
</script>
